# μλ™ μ¶•μ  λ°μ΄ν„° μ—…λ°μ΄νΈ κ°€μ΄λ“

μ΄ ν”„λ΅μ νΈλ” GitHub Actionsλ¥Ό μ‚¬μ©ν•μ—¬ **λ§¤μ£Ό 1ν μλ™μΌλ΅** λ¬Έν™”μ²΄μ΅κ΄€κ΄‘λ¶€(MCST) μ¶•μ  μ •λ³΄λ¥Ό μμ§‘(μ›Ή μ¤ν¬λν•‘), κ°±μ‹ , λΉλ“ κ²€μ¦, μ»¤λ°‹ν•©λ‹λ‹¤.

## π€ μ‘λ™ λ°©μ‹

1. **λ§¤μ£Ό 1ν**: GitHub Actionsκ°€ μλ™μΌλ΅ μ‹¤ν–‰λ©λ‹λ‹¤
2. **μ¶•μ  λ°μ΄ν„° μμ§‘(μ¤ν¬λν•‘)**: `tools/mcst-scraper` ν¨ν‚¤μ§€μ—μ„ MCST μ¶•μ  λ©λ΅/μƒμ„Έ νμ΄μ§€ μ •λ³΄λ¥Ό μμ§‘ν•©λ‹λ‹¤
3. **λ°μ΄ν„° κ°±μ‹ **: `src/data/festivals.js` νμΌμ΄ μλ™μΌλ΅ μ—…λ°μ΄νΈλ©λ‹λ‹¤
4. **μλ™ λΉλ“(κ²€μ¦)**: `npm run build`λ΅ λΉλ“κ°€ κΉ¨μ§€μ§€ μ•λ”μ§€ ν™•μΈν•©λ‹λ‹¤
5. **μλ™ μ»¤λ°‹**: λ³€κ²½μ‚¬ν•­μ΄ μμ„ λ•λ§ `src/data/festivals.js`λ¥Ό μ»¤λ°‹/ν‘Έμ‹ν•©λ‹λ‹¤

## β™οΈ μ„¤μ • λ°©λ²•
μ΄ λ°©μ‹μ€ **API ν‚¤κ°€ ν•„μ” μ—†μµλ‹λ‹¤.** (MCST μ›Ή νμ΄μ§€λ¥Ό μ¤ν¬λν•‘)

### 3. GitHub Actions κ¶ν• μ„¤μ •

1. GitHub μ €μ¥μ†μ **Settings** β†’ **Actions** β†’ **General**λ΅ μ΄λ™
2. **Workflow permissions** μ„Ήμ…μ—μ„:
   - β… **Read and write permissions** μ„ νƒ
   - β… **Allow GitHub Actions to create and approve pull requests** μ²΄ν¬ (μ„ νƒμ‚¬ν•­)

### 4. μ›ν¬ν”λ΅μ° ν™μ„±ν™” ν™•μΈ

1. GitHub μ €μ¥μ†μ **Actions** νƒ­μΌλ΅ μ΄λ™
2. μ™Όμ½ μ‚¬μ΄λ“λ°”μ—μ„ "Auto Update Festivals" μ›ν¬ν”λ΅μ°κ°€ λ³΄μ΄λ”μ§€ ν™•μΈ
3. μ›ν¬ν”λ΅μ°κ°€ λΉ„ν™μ„±ν™”λμ–΄ μλ‹¤λ©΄ ν™μ„±ν™”

## π“… μ¤μΌ€μ¤„ ν™•μΈ

ν„μ¬ μ„¤μ •λ μ¤μΌ€μ¤„:
- **λ§¤μ£Ό μΌμ”μΌ 15:00 UTC**μ— μλ™ μ‹¤ν–‰
- ν•κµ­ μ‹κ°„ κΈ°μ¤€: **λ§¤μ£Ό μ›”μ”μΌ 00:00 (KST)**

μ¤μΌ€μ¤„μ„ λ³€κ²½ν•λ ¤λ©΄ `.github/workflows/auto-update-festivals.yml` νμΌμ `cron` κ°’μ„ μμ •ν•μ„Έμ”.

## π”§ μλ™ μ‹¤ν–‰

GitHub Actionsμ—μ„ μλ™μΌλ΅ μ‹¤ν–‰ν•  μλ„ μμµλ‹λ‹¤:

1. GitHub μ €μ¥μ†μ **Actions** νƒ­μΌλ΅ μ΄λ™
2. μ™Όμ½ μ‚¬μ΄λ“λ°”μ—μ„ "Auto Update Festivals" μ„ νƒ
3. **Run workflow** λ²„νΌ ν΄λ¦­
4. **Run workflow** ν™•μΈ

## π§ λ΅μ»¬ ν…μ¤νΈ

λ΅μ»¬μ—μ„ μ¤ν¬λ¦½νΈλ¥Ό ν…μ¤νΈν•λ ¤λ©΄:

```bash
# μ¶•μ  λ°μ΄ν„° μ—…λ°μ΄νΈ μ¤ν¬λ¦½νΈ μ‹¤ν–‰
npm run update:festivals
```

> μ°Έκ³ : λ°°ν¬(Cloudflare Pages)μ—λ” μ¤ν¬λν•‘ λ¨λ“μ΄ ν•„μ” μ—†μ–΄μ„, μ¤ν¬λνΌλ” λ³„λ„ ν΄λ”(`tools/mcst-scraper`)λ΅ λ¶„λ¦¬λμ–΄ μμµλ‹λ‹¤.

## π“ λ°μ΄ν„° μ†μ¤

ν„μ¬λ” **λ¬Έν™”μ²΄μ΅κ΄€κ΄‘λ¶€(MCST) μ¶•μ  λ©λ΅/μƒμ„Έ νμ΄μ§€**λ¥Ό μ¤ν¬λν•‘ν•©λ‹λ‹¤.

λ‹¤λ¥Έ λ°μ΄ν„° μ†μ¤λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ `scripts/updateFestivals.js`μ μμ§‘ λ΅μ§μ„ μμ •ν•μ„Έμ”.

### λ‹¤λ¥Έ λ°μ΄ν„° μ†μ¤ μμ‹

- μ›Ή μ¤ν¬λν•‘ (Puppeteer, Cheerio λ“±)
- λ‹¤λ¥Έ κ³µκ³µ API
- μ»¤μ¤ν…€ API

## β“ λ¬Έμ  ν•΄κ²°

### API νΈμ¶μ΄ μ‹¤ν¨ν•λ” κ²½μ°

1. GitHub Secretsμ— `DATA_GO_KR_KEY`κ°€ μ¬λ°”λ¥΄κ² μ„¤μ •λμ—λ”μ§€ ν™•μΈ
2. API ν‚¤κ°€ μ ν¨ν•μ§€ ν™•μΈ (κ³µκ³µλ°μ΄ν„°ν¬ν„Έμ—μ„ ν™•μΈ)
3. GitHub Actions λ΅κ·Έμ—μ„ μ¤λ¥ λ©”μ‹μ§€ ν™•μΈ

### μ»¤λ°‹μ΄ λμ§€ μ•λ” κ²½μ°

1. GitHub Actions κ¶ν•μ΄ "Read and write"λ΅ μ„¤μ •λμ—λ”μ§€ ν™•μΈ
2. `GITHUB_TOKEN`μ΄ μλ™μΌλ΅ μ κ³µλλ”μ§€ ν™•μΈ
3. λΈλμΉ λ³΄νΈ κ·μΉ™μ΄ μ»¤λ°‹μ„ λ§‰κ³  μμ§€ μ•μ€μ§€ ν™•μΈ

### λ°μ΄ν„°κ°€ μ—…λ°μ΄νΈλμ§€ μ•λ” κ²½μ°

1. APIμ—μ„ λ°ν™λ λ°μ΄ν„°κ°€ μλ”μ§€ ν™•μΈ
2. ν•„ν„°λ§ μ΅°κ±΄ (μ¤λ μ΄ν›„ μ‹μ‘, ν™νμ΄μ§€ μμ)μ„ ν™•μΈ
3. GitHub Actions λ΅κ·Έμ—μ„ μƒμ„Έ μ¤λ¥ ν™•μΈ

## π“ μ»¤λ°‹ λ©”μ‹μ§€

μλ™ μ»¤λ°‹ λ©”μ‹μ§€ ν•μ‹:
```
chore: μλ™ μ—…λ°μ΄νΈ - μ¶•μ  λ°μ΄ν„° κ°±μ‹  λ° λΉλ“ [skip ci]
```

`[skip ci]` νƒκ·Έλ΅ μΈν•΄ μ΄ μ»¤λ°‹μΌλ΅ μΈν• μ¶”κ°€ μ›ν¬ν”λ΅μ° μ‹¤ν–‰μ€ κ±΄λ„λλ‹λ‹¤.
